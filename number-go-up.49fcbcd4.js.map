{"version":3,"sources":["src/main.js","src/surprise.js","src/Counter.js","index.js"],"names":["counter","activeIncrement","activeUpgradePrice","activeUpgrades","passiveIncrement","passiveUpgrades","passiveUpgradePrice","activeUpgradePriceElement","document","querySelector","passiveUpgradePriceElement","activeCurrentElement","passiveCurrentElement","init","counterObj","innerHTML","loop","setInterval","increment","checkUpgradePrice","plusButton","addEventListener","passiveUpgradeButton","decrement","Math","pow","roundToOneDecimal","activeUpgradeButton","isBigger","disabled","num","round","randomExponential","lambda","log","random","surpriseModal","getElementById","surpriseModalButton","modalClose","getElementsByClassName","submit","input","winLabel","onclick","style","display","event","preventDefault","bet","value","factor","win","window","target","Counter","_counter","counterElement","updateElement"],"mappings":"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","file":"number-go-up.49fcbcd4.js","sourceRoot":"..","sourcesContent":["let counter = null;\r\nlet activeIncrement = 1;\r\nlet activeUpgradePrice = 1;\r\nlet activeUpgrades = 1;\r\nlet passiveIncrement = 0.1;\r\nlet passiveUpgrades = 1;\r\nlet passiveUpgradePrice = 1;\r\n\r\nconst activeUpgradePriceElement = document.querySelector(\r\n    \"#upgradeActivePrice\"\r\n);\r\nconst passiveUpgradePriceElement = document.querySelector(\r\n    \"#upgradePassivePrice\"\r\n);\r\nconst activeCurrentElement = document.querySelector(\r\n    \"#currentActiveIncome\"\r\n);\r\nconst passiveCurrentElement = document.querySelector(\r\n    \"#currentPassiveIncome\"\r\n);\r\n\r\nfunction init(counterObj) {\r\n    counter = counterObj;\r\n    activeUpgradePriceElement.innerHTML = \"Price: \" + activeUpgradePrice;\r\n    passiveUpgradePriceElement.innerHTML = \"Price: \" + passiveUpgradePrice;\r\n    activeCurrentElement.innerHTML = \"Current: \" + activeIncrement;\r\n    passiveCurrentElement.innerHTML = \"Current: \" + passiveIncrement;\r\n}\r\n\r\n// increments counter every second\r\nfunction loop() {\r\n    setInterval(function () {\r\n        counter.increment(passiveIncrement);\r\n        checkUpgradePrice();\r\n    }, 1000);\r\n}\r\n\r\n// go up button\r\nconst plusButton = document.querySelector(\"#plusBtn\");\r\nplusButton.addEventListener(\r\n    \"click\",\r\n    function () {\r\n        counter.increment(activeIncrement);\r\n        checkUpgradePrice;\r\n    },\r\n    false\r\n);\r\n\r\n// passive upgrade button handling\r\nconst passiveUpgradeButton = document.querySelector(\"#upgradePassiveBtn\");\r\npassiveUpgradeButton.addEventListener(\r\n    \"click\",\r\n    function () {\r\n        counter.decrement(passiveUpgradePrice);\r\n        // update passive upgrade price\r\n        passiveUpgrades++;\r\n        passiveUpgradePrice = Math.pow(passiveUpgrades, 2);\r\n        passiveIncrement = roundToOneDecimal(passiveIncrement += 0.1)\r\n        checkUpgradePrice();\r\n        // update html element\r\n        passiveUpgradePriceElement.innerHTML = \"Price: \" + passiveUpgradePrice;\r\n        passiveCurrentElement.innerHTML = \"Current: \" + passiveIncrement;\r\n    },\r\n    false\r\n);\r\n\r\n// active upgrade button handling\r\nconst activeUpgradeButton = document.querySelector(\"#upgradeActiveBtn\");\r\nactiveUpgradeButton.addEventListener(\r\n    \"click\",\r\n    function () {\r\n        counter.decrement(activeUpgradePrice);\r\n        // update price for active upgrades\r\n        activeUpgrades++;\r\n        activeUpgradePrice = Math.pow(activeUpgrades, 2);\r\n        activeIncrement = roundToOneDecimal(activeIncrement += 0.1);\r\n        checkUpgradePrice();\r\n        // update html elements\r\n        activeUpgradePriceElement.innerHTML = \"Price: \" + activeUpgradePrice;\r\n        activeCurrentElement.innerHTML = \"Current: \" + activeIncrement;\r\n    },\r\n    false\r\n);\r\n\r\n// tests if price for upgrades are bigger than current count\r\nfunction checkUpgradePrice() {\r\n    // check active upgrades\r\n    if (counter.isBigger(activeUpgradePrice)) {\r\n        activeUpgradeButton.disabled = false;\r\n    } else {\r\n        activeUpgradeButton.disabled = true;\r\n    }\r\n    // check passive upgrades\r\n    if (counter.isBigger(passiveUpgradePrice)) {\r\n        passiveUpgradeButton.disabled = false;\r\n    } else {\r\n        passiveUpgradeButton.disabled = true;\r\n    }\r\n}\r\n\r\n// HELPER Functions\r\nfunction roundToOneDecimal(num) {\r\n    return Math.round(num * 10) / 10;\r\n}\r\n\r\nexport default (counter) => {\r\n    init(counter);\r\n    loop();\r\n};","let counter = null;\r\n\r\nfunction init(counterObj) {\r\n    counter = counterObj;\r\n}\r\n\r\n// generate number from exponental distribution\r\nfunction randomExponential(lambda) {\r\n    return -Math.log(1 - Math.random()) / lambda;\r\n}\r\n\r\n// get all relevant elements\r\nconst surpriseModal = document.getElementById(\"surpriseModal\");\r\nconst surpriseModalButton = document.getElementById(\"surpriseBtn\");\r\nconst modalClose = document.getElementsByClassName(\"close\")[0];\r\nconst submit = document.querySelector(\"#surpriseSubmit\");\r\nconst input = document.querySelector(\"#surpriseInput\");\r\nconst winLabel = document.querySelector(\"#surpriseWin\");\r\n\r\n// open the modal\r\nsurpriseModalButton.onclick = function () {\r\n    surpriseModal.style.display = \"block\";\r\n};\r\n\r\n// close the modal\r\nmodalClose.onclick = function () {\r\n    surpriseModal.style.display = \"none\";\r\n};\r\n\r\n// submit handler\r\nsubmit.onclick = function (event) {\r\n    event.preventDefault();\r\n    \r\n    const bet = input.value;\r\n    const factor = randomExponential(0.5);\r\n\r\n    if (bet) {\r\n        counter.decrement(bet);\r\n        const win = Math.round(bet * factor * 10) / 10;\r\n        counter.increment(win);\r\n\r\n        winLabel.innerHTML = \"You won \" + win;\r\n    }\r\n};\r\n\r\n// When the user clicks anywhere outside of the modal, close it\r\nwindow.onclick = function (event) {\r\n    if (event.target == surpriseModal) {\r\n        surpriseModal.style.display = \"none\";\r\n    }\r\n};\r\n\r\nexport default (counter) => {\r\n    init(counter);\r\n};\r\n","class Counter {\r\n    constructor() {\r\n        this._counter = 0;\r\n        this.counterElement = document.querySelector(\"#count\");\r\n    }\r\n\r\n    increment(value) {\r\n        this._counter += value;\r\n        this._counter = roundToOneDecimal(this._counter);\r\n        this.updateElement();\r\n    }\r\n\r\n    decrement(value) {\r\n        this._counter -= value;\r\n        this._counter = roundToOneDecimal(this._counter);\r\n        this.updateElement();\r\n    }\r\n\r\n    updateElement() {\r\n        this.counterElement.innerHTML = this._counter;\r\n    }\r\n\r\n    isBigger(value) {\r\n        return this._counter >= value;\r\n    }\r\n}\r\n\r\nfunction roundToOneDecimal(num) {\r\n    return Math.round(num * 10) / 10;\r\n}\r\n\r\nexport default Counter;","import main from './src/main';\r\nimport surprise from './src/surprise';\r\nimport Counter from './src/Counter';\r\n\r\nconst counter = new Counter();\r\n\r\nmain(counter);\r\nsurprise(counter);\r\n"]}