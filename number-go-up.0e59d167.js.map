{"version":3,"sources":["src/main.js","src/surprise.js","src/Counter.js","index.js"],"names":["counter","activeIncrement","activeUpgradePrice","activeUpgrades","passiveIncrement","passiveUpgrades","passiveUpgradePrice","activeUpgradePriceElement","document","querySelector","passiveUpgradePriceElement","activeCurrentElement","passiveCurrentElement","init","counterObj","innerHTML","loop","setInterval","increment","checkUpgradePrice","plusButton","addEventListener","passiveUpgradeButton","decrement","Math","pow","roundToOneDecimal","activeUpgradeButton","isBigger","disabled","num","round","surpriseModal","getElementById","surpriseModalButton","modalClose","getElementsByClassName","form","getElementsByTagName","input","inputError","winLabel","randomExponential","lambda","log","random","validate","max","_counter","validity","valid","textContent","className","showError","showWin","win","valueMissing","rangeOverflow","rangeUnderflow","event","preventDefault","bet","value","factor","onclick","style","display","window","target","Counter","counterElement","updateElement"],"mappings":"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","file":"number-go-up.0e59d167.js","sourceRoot":"..","sourcesContent":["let counter = null;\r\nlet activeIncrement = 1;\r\nlet activeUpgradePrice = 1;\r\nlet activeUpgrades = 1;\r\nlet passiveIncrement = 0.1;\r\nlet passiveUpgrades = 1;\r\nlet passiveUpgradePrice = 1;\r\n\r\nconst activeUpgradePriceElement = document.querySelector(\r\n    \"#upgradeActivePrice\"\r\n);\r\nconst passiveUpgradePriceElement = document.querySelector(\r\n    \"#upgradePassivePrice\"\r\n);\r\nconst activeCurrentElement = document.querySelector(\r\n    \"#currentActiveIncome\"\r\n);\r\nconst passiveCurrentElement = document.querySelector(\r\n    \"#currentPassiveIncome\"\r\n);\r\n\r\nfunction init(counterObj) {\r\n    counter = counterObj;\r\n    activeUpgradePriceElement.innerHTML = \"Price: \" + activeUpgradePrice;\r\n    passiveUpgradePriceElement.innerHTML = \"Price: \" + passiveUpgradePrice;\r\n    activeCurrentElement.innerHTML = \"Current: \" + activeIncrement;\r\n    passiveCurrentElement.innerHTML = \"Current: \" + passiveIncrement;\r\n}\r\n\r\n// increments counter every second\r\nfunction loop() {\r\n    setInterval(function () {\r\n        counter.increment(passiveIncrement);\r\n        checkUpgradePrice();\r\n    }, 1000);\r\n}\r\n\r\n// go up button\r\nconst plusButton = document.querySelector(\"#plusBtn\");\r\nplusButton.addEventListener(\r\n    \"click\",\r\n    function () {\r\n        counter.increment(activeIncrement);\r\n        checkUpgradePrice;\r\n    },\r\n    false\r\n);\r\n\r\n// passive upgrade button handling\r\nconst passiveUpgradeButton = document.querySelector(\"#upgradePassiveBtn\");\r\npassiveUpgradeButton.addEventListener(\r\n    \"click\",\r\n    function () {\r\n        counter.decrement(passiveUpgradePrice);\r\n        // update passive upgrade price\r\n        passiveUpgrades++;\r\n        passiveUpgradePrice = Math.pow(passiveUpgrades, 2);\r\n        passiveIncrement = roundToOneDecimal(passiveIncrement += 0.1)\r\n        checkUpgradePrice();\r\n        // update html element\r\n        passiveUpgradePriceElement.innerHTML = \"Price: \" + passiveUpgradePrice;\r\n        passiveCurrentElement.innerHTML = \"Current: \" + passiveIncrement;\r\n    },\r\n    false\r\n);\r\n\r\n// active upgrade button handling\r\nconst activeUpgradeButton = document.querySelector(\"#upgradeActiveBtn\");\r\nactiveUpgradeButton.addEventListener(\r\n    \"click\",\r\n    function () {\r\n        counter.decrement(activeUpgradePrice);\r\n        // update price for active upgrades\r\n        activeUpgrades++;\r\n        activeUpgradePrice = Math.pow(activeUpgrades, 2);\r\n        activeIncrement = roundToOneDecimal(activeIncrement += 0.1);\r\n        checkUpgradePrice();\r\n        // update html elements\r\n        activeUpgradePriceElement.innerHTML = \"Price: \" + activeUpgradePrice;\r\n        activeCurrentElement.innerHTML = \"Current: \" + activeIncrement;\r\n    },\r\n    false\r\n);\r\n\r\n// tests if price for upgrades are bigger than current count\r\nfunction checkUpgradePrice() {\r\n    // check active upgrades\r\n    if (counter.isBigger(activeUpgradePrice)) {\r\n        activeUpgradeButton.disabled = false;\r\n    } else {\r\n        activeUpgradeButton.disabled = true;\r\n    }\r\n    // check passive upgrades\r\n    if (counter.isBigger(passiveUpgradePrice)) {\r\n        passiveUpgradeButton.disabled = false;\r\n    } else {\r\n        passiveUpgradeButton.disabled = true;\r\n    }\r\n}\r\n\r\n// HELPER Functions\r\nfunction roundToOneDecimal(num) {\r\n    return Math.round(num * 10) / 10;\r\n}\r\n\r\nexport default (counter) => {\r\n    init(counter);\r\n    loop();\r\n};","let counter = null;\r\n\r\nfunction init(counterObj) {\r\n    counter = counterObj;\r\n}\r\n\r\n// modal elements\r\nconst surpriseModal = document.getElementById(\"surpriseModal\");\r\nconst surpriseModalButton = document.getElementById(\"surpriseBtn\");\r\nconst modalClose = document.getElementsByClassName(\"close\")[0];\r\n// form elements\r\nconst form = document.getElementsByTagName(\"form\")[0];\r\nconst input = document.querySelector(\"#bet\");\r\nconst inputError = document.querySelector(\"#bet + span.error\");\r\nconst winLabel = document.querySelector(\"#surpriseWin\");\r\n\r\n// helper to generate number from exponental distribution\r\nfunction randomExponential(lambda) {\r\n    return -Math.log(1 - Math.random()) / lambda;\r\n}\r\n\r\nfunction validate() {\r\n    // set current max value\r\n    input.max = counter._counter;\r\n    // on each typing check input validity\r\n\r\n    if (input.validity.valid) {\r\n        // remove error message in case field is valid\r\n        inputError.textContent = \"\"; // reset content\r\n        inputError.className = \"error\"; // reset visual state\r\n        return true;\r\n    } else {\r\n        // if there is still an error, show the correct error\r\n        showError();\r\n        return false;\r\n    }\r\n}\r\n\r\nform.addEventListener(\"submit\", function (event) {\r\n    // prevent event default behaivor\r\n    event.preventDefault();\r\n\r\n    // test validity of field\r\n    if (!validate()) {\r\n        return;\r\n    }\r\n\r\n    const bet = input.value;\r\n    // calculate the winning factor\r\n    const factor = randomExponential(0.5);\r\n\r\n    counter.decrement(bet);\r\n    const win = Math.round(bet * factor * 10) / 10;\r\n    counter.increment(win);\r\n    showWin(win);\r\n});\r\n\r\nfunction showWin(win) {\r\n    winLabel.innerHTML = \"You won \" + win;\r\n}\r\n\r\nfunction showError() {\r\n    if (input.validity.valueMissing) {\r\n        inputError.textContent = \"You need to enter a number.\";\r\n    } else if (input.validity.rangeOverflow) {\r\n        inputError.textContent = \"You dont have that much.\";\r\n    } else if (input.validity.rangeUnderflow) {\r\n        inputError.textContent = \"That is not enough.\";\r\n    }\r\n\r\n    // set styling\r\n    inputError.className = \"error active\";\r\n}\r\n\r\n// open the modal\r\nsurpriseModalButton.onclick = function () {\r\n    surpriseModal.style.display = \"block\";\r\n};\r\n\r\n// close the modal\r\nmodalClose.onclick = function () {\r\n    surpriseModal.style.display = \"none\";\r\n};\r\n\r\n// When the user clicks anywhere outside of the modal, close it\r\nwindow.onclick = function (event) {\r\n    if (event.target == surpriseModal) {\r\n        surpriseModal.style.display = \"none\";\r\n    }\r\n};\r\n\r\nexport default (counter) => {\r\n    init(counter);\r\n};\r\n","class Counter {\r\n    constructor() {\r\n        this._counter = 0;\r\n        this.counterElement = document.querySelector(\"#count\");\r\n    }\r\n\r\n    increment(value) {\r\n        this._counter += value;\r\n        this._counter = roundToOneDecimal(this._counter);\r\n        this.updateElement();\r\n    }\r\n\r\n    decrement(value) {\r\n        this._counter -= value;\r\n        this._counter = roundToOneDecimal(this._counter);\r\n        this.updateElement();\r\n    }\r\n\r\n    updateElement() {\r\n        this.counterElement.innerHTML = this._counter;\r\n    }\r\n\r\n    isBigger(value) {\r\n        return this._counter >= value;\r\n    }\r\n}\r\n\r\nfunction roundToOneDecimal(num) {\r\n    return Math.round(num * 10) / 10;\r\n}\r\n\r\nexport default Counter;","import main from './src/main';\r\nimport surprise from './src/surprise';\r\nimport Counter from './src/Counter';\r\n\r\nconst counter = new Counter();\r\n\r\nmain(counter);\r\nsurprise(counter);\r\n"]}